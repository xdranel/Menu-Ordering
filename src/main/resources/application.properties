# Database
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/restaurant_db}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:password}

# Hibernate
# IMPORTANT: Use 'validate' or 'none' in production, 'update' only for development
spring.jpa.hibernate.ddl-auto=${HIBERNATE_DDL_AUTO:update}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
# Disable SQL logging in production
spring.jpa.show-sql=${HIBERNATE_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=false

# Flyway - Enable for first-time setup, then disable
spring.flyway.enabled=false
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# Session Management
spring.session.store-type=jdbc
spring.session.jdbc.initialize-schema=always
spring.session.timeout=8h

# Server
server.port=${PORT:8080}
server.servlet.session.timeout=8h
server.servlet.session.tracking-modes=COOKIE

# Thymeleaf
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.servlet.content-type=text/html
# Enable cache in production for better performance
spring.thymeleaf.cache=${THYMELEAF_CACHE:false}

# Security
spring.security.bcrypt.strength=10

# Application
app.name=ChopChop Restaurant
app.currency=IDR
app.qr-code.enabled=true

# File Upload
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging - Use INFO in production, DEBUG only for local development
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:INFO}
logging.level.menuorderingapp.project=${LOG_LEVEL_APP:INFO}
